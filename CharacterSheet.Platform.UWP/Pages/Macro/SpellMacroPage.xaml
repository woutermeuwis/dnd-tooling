<Page x:Class="CharacterSheet.Platform.UWP.Pages.Macro.SpellMacroPage"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	  mc:Ignorable="d"
	  Background="{ThemeResource DefaultBackgroundColor}">

	<Page.Resources>
		<ResourceDictionary>

			<GridLength x:Key="DefaultRowHeight">50</GridLength>

			<Style TargetType="TextBlock">
				<Setter Property="HorizontalAlignment"
						Value="Left" />
				<Setter Property="VerticalAlignment"
						Value="Center" />
			</Style>

			<Style TargetType="TextBox">
				<Setter Property="HorizontalAlignment"
						Value="Left" />
				<Setter Property="VerticalAlignment"
						Value="Center" />
				<Setter Property="Width"
						Value="300" />
			</Style>

			<Style TargetType="ComboBox">
				<Setter Property="HorizontalAlignment"
						Value="Left" />
				<Setter Property="VerticalAlignment"
						Value="Center" />
			</Style>

		</ResourceDictionary>
	</Page.Resources>

	<Grid Padding="20"
		  ColumnSpacing="20">

		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="Auto" />
			<ColumnDefinition />
		</Grid.ColumnDefinitions>

		<Grid.RowDefinitions>
			<RowDefinition Height="{StaticResource DefaultRowHeight}" />
			<!-- Name -->
			<RowDefinition Height="{StaticResource DefaultRowHeight}" />
			<!-- School -->
			<RowDefinition Height="{StaticResource DefaultRowHeight}" />
			<!-- Components -->
			<RowDefinition Height="{StaticResource DefaultRowHeight}" />
			<!-- Casting Time -->
			<RowDefinition Height="{StaticResource DefaultRowHeight}" />
			<!-- Range -->
			<RowDefinition Height="{StaticResource DefaultRowHeight}" />
			<!-- Duration -->
			<RowDefinition Height="150" />
			<!-- Saving throw -->
			<RowDefinition Height="{StaticResource DefaultRowHeight}" />
			<!-- Generate button -->
			<RowDefinition />
		</Grid.RowDefinitions>

		<TextBlock Text="Spell Name"
				   Grid.Row="0"
				   Grid.Column="0" />

		<TextBox PlaceholderText="Spell Name"
				 Text="{x:Bind ViewModel.SpellName, Mode=TwoWay}"
				 Grid.Row="0"
				 Grid.Column="1" />

		<TextBlock Text="School"
				   Grid.Row="1"
				   Grid.Column="0" />

		<TextBox PlaceholderText="School"
				 Text="{x:Bind ViewModel.School, Mode=TwoWay}"
				 Grid.Row="1"
				 Grid.Column="1" />

		<TextBlock Text="Components"
				   Grid.Row="2"
				   Grid.Column="0" />

		<TextBox PlaceholderText="Components"
				 Text="{x:Bind ViewModel.Components, Mode=TwoWay}"
				 Grid.Row="2"
				 Grid.Column="1" />

		<TextBlock Text="Casting Time"
				   Grid.Row="3"
				   Grid.Column="0" />

		<TextBox PlaceholderText="Casting Time"
				 Text="{x:Bind ViewModel.CastingTime, Mode=TwoWay}"
				 Grid.Row="3"
				 Grid.Column="1" />

		<TextBlock Text="Range"
				   Grid.Row="4"
				   Grid.Column="0" />

		<StackPanel Orientation="Horizontal"
					HorizontalAlignment="Left"
					VerticalAlignment="Center"
					Spacing="10"
					Grid.Row="4"
					Grid.Column="1">

			<ComboBox x:Name="RangePicker"
					  PlaceholderText="Select a Range"
					  ItemsSource="{x:Bind ViewModel.PossibleRanges, Mode=OneWay}"
					  SelectedItem="{x:Bind ViewModel.Range, Mode=TwoWay}"
					  Width="150" />

			<TextBox PlaceholderText="Custom Range"
					 Text="{x:Bind ViewModel.CustomRange, Mode=TwoWay}"
					 Visibility="{x:Bind ViewModel.ShouldShowCustomRange, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
					 Width="140" />

		</StackPanel>

		<TextBlock Text="Duration"
				   Grid.Row="5"
				   Grid.Column="0" />

		<TextBox PlaceholderText="Duration"
				 Text="{x:Bind ViewModel.Duration, Mode=TwoWay}"
				 Grid.Row="5"
				 Grid.Column="1" />

		<TextBlock Text="Saving Throw"
				   Grid.Row="6"
				   Grid.Column="0" />

		<Grid Grid.Row="6"
			  Grid.Column="1"
			  HorizontalAlignment="Left"
			  VerticalAlignment="Center"
			  ColumnSpacing="10">

			<Grid.RowDefinitions>
				<RowDefinition Height="{StaticResource DefaultRowHeight}" />
				<!-- Fortitude -->
				<RowDefinition Height="{StaticResource DefaultRowHeight}" />
				<!-- Reflex -->
				<RowDefinition Height="{StaticResource DefaultRowHeight}" />
				<!-- Will -->
			</Grid.RowDefinitions>

			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="70" />
				<!-- type -->
				<ColumnDefinition Width="120" />
				<!-- kind -->
				<ColumnDefinition Width="90" />
				<!-- include -->
			</Grid.ColumnDefinitions>

			<TextBlock Text="Fortitude"
					   Grid.Row="0"
					   Grid.Column="0" />

			<ComboBox Grid.Row="0"
					  Grid.Column="1"
					  HorizontalAlignment="Stretch"
					  ItemsSource="{x:Bind ViewModel.PossibleSaveKinds, Mode=OneWay}"
					  SelectedItem="{x:Bind ViewModel.FortitudeSave, Mode=TwoWay}" />

			<TextBox PlaceholderText="Custom"
					 Text="{x:Bind ViewModel.CustomFortitudeSave, Mode=TwoWay}"
					 Visibility="{x:Bind ViewModel.ShouldShowCustomFortitudeSave, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
					 Width="90"
					 Grid.Row="0"
					 Grid.Column="2"/>

			<TextBlock Text="Reflex"
					   Grid.Row="1"
					   Grid.Column="0" />

			<ComboBox Grid.Row="1"
					  Grid.Column="1"
					  HorizontalAlignment="Stretch"
					  ItemsSource="{x:Bind ViewModel.PossibleSaveKinds, Mode=OneWay}"
					  SelectedItem="{x:Bind ViewModel.ReflexSave, Mode=TwoWay}" />

			<TextBox PlaceholderText="Custom"
					 Text="{x:Bind ViewModel.CustomReflexSave, Mode=TwoWay}"
					 Visibility="{x:Bind ViewModel.ShouldShowCustomReflexSave, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
					 Width="90"
					 Grid.Row="1"
					 Grid.Column="2" />

			<TextBlock Text="Will"
					   Grid.Row="2"
					   Grid.Column="0" />

			<ComboBox Grid.Row="2"
					  Grid.Column="1"
					  HorizontalAlignment="Stretch"
					  ItemsSource="{x:Bind ViewModel.PossibleSaveKinds, Mode=OneWay}"
					  SelectedItem="{x:Bind ViewModel.WillSave, Mode=TwoWay}" />

			<TextBox PlaceholderText="Custom"
					 Text="{x:Bind ViewModel.CustomWillSave, Mode=TwoWay}"
					 Visibility="{x:Bind ViewModel.ShouldShowCustomWillSave, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
					 Width="90"
					 Grid.Row="2"
					 Grid.Column="2" />

		</Grid>

		<Button Content="Generate"
				Command="{x:Bind ViewModel.GenerateMacroCommand}"
				Grid.Row="7"
				Grid.Column="0"
				Grid.ColumnSpan="2" />

		<TextBlock Text="{x:Bind ViewModel.Macro, Mode=OneWay}"
				   MaxWidth="800"
				   MaxLines="10"
				   IsTextSelectionEnabled="True"
				   TextWrapping="WrapWholeWords"
				   Grid.Row="8"
				   Grid.Column="0"
				   Grid.ColumnSpan="2" />

	</Grid>
</Page>
